{"version":3,"sources":["components/Numbers.jsx","components/Filter.jsx","components/AddPersonForm.jsx","services/persons.js","components/Notification.jsx","App.js","index.js"],"names":["Numbers","persons","searchTerm","deletePerson","map","person","name","toLowerCase","includes","number","onClick","id","Filter","handleSearchTermChange","value","onChange","AddPersonForm","addPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","baseUrl","axios","get","then","response","data","newPerson","post","delete","put","Notification","message","classname","className","App","useState","setPersons","setNewName","setNewNumber","setSearchTerm","isOnList","setIsOnList","notificationMessage","setNotificationMessage","errorMessage","setErrorMessage","useEffect","personService","initialPersons","event","target","preventDefault","personObject","returnedPerson","concat","setTimeout","console","log","window","confirm","toBeUpdated","find","catch","error","filter","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.10c60383.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Numbers = ({ persons, searchTerm, deletePerson }) => {\r\n    return (\r\n        <>\r\n        <h2>Numbers</h2>\r\n        <ul>\r\n            {persons.map(person => {\r\n            if ((person.name.toLowerCase()).includes(searchTerm.toLowerCase())) {\r\n                return (\r\n                <li key={person.name}>{person.name} {person.number} <button onClick={() => deletePerson(person.id)}>delete</button></li>\r\n                )\r\n            }\r\n            })}\r\n        </ul>\r\n      </>\r\n    )\r\n}\r\n\r\nexport default Numbers","import React from 'react'\r\n\r\nconst Filter = ({ searchTerm, handleSearchTermChange }) => {\r\n    return (\r\n        <>\r\n            filter shown with<input\r\n                value={searchTerm}\r\n                onChange={handleSearchTermChange}\r\n            />\r\n      </>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst AddPersonForm = ({ addPerson, newName, handleNameChange, newNumber, handleNumberChange }) => {\r\n    return (\r\n        <form onSubmit={addPerson}>\r\n        <h2>add a new</h2>\r\n        <div>\r\n          name: <input\r\n            value={newName}\r\n            onChange={handleNameChange}\r\n          /><br/>\r\n          number: <input\r\n            value={newNumber}\r\n            onChange={handleNumberChange}\r\n          />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default AddPersonForm","import axios from 'axios'\r\nconst baseUrl = 'https://polar-eyrie-28898.herokuapp.com/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newPerson => {\r\n    const request = axios.post(baseUrl, newPerson)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newPerson) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newPerson)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, remove, update }","import React from 'react'\r\n\r\nconst Notification = ({ message, classname }) => {\r\n    if (message === null) {\r\n        return null\r\n    }\r\n\r\n    return (\r\n        <div className={classname} >\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Numbers from './components/Numbers'\nimport Filter from './components/Filter'\nimport AddPersonForm from './components/AddPersonForm'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ searchTerm, setSearchTerm ] = useState('')\n  const [ isOnList, setIsOnList ] = useState(false)\n  const [ notificationMessage, setNotificationMessage ] = useState(null)\n  const [ errorMessage, setErrorMessage ] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n\n    persons.map(person => {\n      if (person.name === newName) {\n        setIsOnList(true)\n      }\n    })\n\n    if (!isOnList) {\n      personService\n        .create(personObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n        })\n        \n        setNotificationMessage(`Added ${personObject.name}`)\n\n        setTimeout(() => {\n          setNotificationMessage(null)\n        }, 5000)\n    }\n    \n    if (isOnList) {\n      console.log(\"includes\")\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n        const toBeUpdated = persons.find(person => person.name === personObject.name)\n        const id = toBeUpdated.id\n\n        personService\n          .update(id, personObject)\n          .then(returnedPerson => {\n            setPersons(persons.map(person => person.id !== id ? person : returnedPerson))\n\n            setNotificationMessage(`Updated ${toBeUpdated.name}`)\n\n            setTimeout(() => {\n              setNotificationMessage(null)\n            }, 5000)\n          })\n          .catch(error => {\n            setErrorMessage(`Information of ${toBeUpdated.name} has already been removed from server`)\n\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 5000)\n            console.log(error)\n          })\n\n          \n      }\n\n      \n    }\n\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const deletePerson = (id) => {\n    const name = persons.find(person => person.id === id)\n\n    setNotificationMessage(`Deleted ${name.name}`)\n\n    setTimeout(() => {\n      setNotificationMessage(null)\n    }, 5000)\n\n    personService\n      .remove(id)\n      .then(\n        setPersons(persons.filter(person => person.id !== id))\n      )\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleSearchTermChange = (event) => {\n    setSearchTerm(event.target.value)\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notificationMessage} classname={\"notification\"} />\n      <Notification message={errorMessage} classname={\"error\"} />\n      <Filter searchTerm={searchTerm} handleSearchTermChange={handleSearchTermChange} />\n      <AddPersonForm addPerson={addPerson} newName={newName} handleNameChange={handleNameChange} newNumber={newNumber} handleNumberChange={handleNumberChange} />\n      <Numbers persons={persons} searchTerm={searchTerm} deletePerson={deletePerson} />\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css'\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}